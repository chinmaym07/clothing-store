{"ast":null,"code":"import React,{useEffect}from'react';import{Route,Switch,Redirect}from'react-router-dom';import'./App.css';import HomePage from'./pages/homepage/homepage.component';import ShopPage from'../src/pages/shop/shop.component';import Header from'../src/components/header/header.component';import SignInAndSignUp from'../src/pages/sign-in-and-sign-up/sign-in-and-sign-up.component';import{selectCurrentUser}from'./redux/user/user.selector';import{connect}from'react-redux';import{createStructuredSelector}from'reselect';import CheckoutPage from'./pages/checkout/checkout.component';import CollectionPage from'./pages/collection/collection.component';import WithSpinner from'./components/with-spinner/with-spinner.component';import{checkUserSession as _checkUserSession}from'./redux/user/user.actions';var CollectionPageContainer=WithSpinner(CollectionPage);var App=function App(_ref){var checkUserSession=_ref.checkUserSession,currentUser=_ref.currentUser;useEffect(function(){checkUserSession();},[checkUserSession]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/shop\",component:ShopPage}),/*#__PURE__*/React.createElement(Route,{path:\"/shop/:collectionId\",component:CollectionPageContainer}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/checkout\",component:CheckoutPage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signin\",render:function render(){return currentUser?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(SignInAndSignUp,null);}})));};var mapStateToProps=createStructuredSelector({currentUser:selectCurrentUser});var mapDispatchToProps=function mapDispatchToProps(dispatch){return{checkUserSession:function checkUserSession(){return dispatch(_checkUserSession());}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/home/skynet/react-practise/crown-clothing/client/src/App.js"],"names":["React","useEffect","Route","Switch","Redirect","HomePage","ShopPage","Header","SignInAndSignUp","selectCurrentUser","connect","createStructuredSelector","CheckoutPage","CollectionPage","WithSpinner","checkUserSession","CollectionPageContainer","App","currentUser","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAAQC,KAAR,CAAgBC,MAAhB,CAAyBC,QAAzB,KAAwC,kBAAxC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,qCAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kCAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2CAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,gEAA5B,CAEA,OAASC,iBAAT,KAAkC,4BAAlC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,wBAAR,KAAuC,UAAvC,CACA,MAAOC,CAAAA,YAAP,KAAyB,qCAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,kDAAxB,CACA,OAAQC,gBAAgB,GAAhBA,CAAAA,iBAAR,KAA+B,2BAA/B,CACA,GAAMC,CAAAA,uBAAuB,CAAGF,WAAW,CAACD,cAAD,CAA3C,CAEA,GAAMI,CAAAA,GAAG,CAAE,QAALA,CAAAA,GAAK,MAAuC,IAApCF,CAAAA,gBAAoC,MAApCA,gBAAoC,CAAnBG,WAAmB,MAAnBA,WAAmB,CAEhDjB,SAAS,CAAC,UAAM,CACdc,gBAAgB,GACjB,CAFQ,CAEP,CAACA,gBAAD,CAFO,CAAT,CAIA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,MAAD,MADF,cAEE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAEV,QAAjC,EADF,cAEE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,CAA0B,SAAS,CAAEC,QAArC,EAFF,cAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,qBAAZ,CAAkC,SAAS,CAAEU,uBAA7C,EAHF,cAKE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAEJ,YAAzC,EALF,cAME,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,MAAM,CAAE,wBAAMM,CAAAA,WAAW,cAAI,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAJ,cAA2B,oBAAC,eAAD,MAA5C,EAApC,EANF,CAFF,CADF,CAaD,CAnBD,CAqBA,GAAMC,CAAAA,eAAe,CAAGR,wBAAwB,CAC9C,CACEO,WAAW,CAACT,iBADd,CAD8C,CAAhD,CAMA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACpCN,gBAAgB,CAAC,kCAAIM,CAAAA,QAAQ,CAACN,iBAAgB,EAAjB,CAAZ,EADmB,CAAL,EAAnC,CAMA,cAAeL,CAAAA,OAAO,CAACS,eAAD,CAAiBC,kBAAjB,CAAP,CAA4CH,GAA5C,CAAf","sourcesContent":["import React,{useEffect} from 'react';\nimport {Route , Switch , Redirect} from 'react-router-dom';\nimport './App.css';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from '../src/pages/shop/shop.component';\nimport Header from '../src/components/header/header.component';\nimport SignInAndSignUp from '../src/pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\n\nimport { selectCurrentUser } from './redux/user/user.selector';\nimport {connect} from 'react-redux';\nimport {createStructuredSelector} from 'reselect';\nimport CheckoutPage from './pages/checkout/checkout.component';\nimport CollectionPage from './pages/collection/collection.component';\nimport WithSpinner from './components/with-spinner/with-spinner.component';\nimport {checkUserSession} from './redux/user/user.actions';\nconst CollectionPageContainer = WithSpinner(CollectionPage);\n\nconst App =({ checkUserSession,currentUser } ) => {\n  \n  useEffect(() => {\n    checkUserSession();\n  },[checkUserSession]);\n\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Switch>\n        <Route exact path='/' component={HomePage} />\n        <Route exact path='/shop' component={ShopPage} />\n        <Route path='/shop/:collectionId' component={CollectionPageContainer} />\n        \n        <Route exact path='/checkout' component={CheckoutPage} />\n        <Route exact path='/signin' render={() => currentUser ? (<Redirect to=\"/\" />) : <SignInAndSignUp />} />\n      </Switch>\n    </div>\n  );\n}\n\nconst mapStateToProps = createStructuredSelector(\n  {\n    currentUser:selectCurrentUser\n  }\n)\n\nconst mapDispatchToProps = dispatch => ({\n    checkUserSession:()=>dispatch(checkUserSession())\n})\n\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}